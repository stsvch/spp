# SPP Project

## Файлы задач

- Для каждой задачи можно загружать произвольные вложения. После загрузки файл сохраняется на сервере в каталоге `server/uploads`.
- Метаданные (имя, размер, MIME-тип и связи с проектом/задачей) сохраняются в MongoDB в отдельной коллекции `files`. Это позволяет быстро находить вложения и очищать их при удалении задач или проектов.
- Передача файла от клиента к серверу происходит в виде base64-представления внутри JSON-запроса. Такой подход выбран, чтобы не подтягивать дополнительные зависимости для разбора `multipart/form-data` и использовать уже настроенную `fetch`-обёртку. Размер файла ограничен 10 МБ, что позволяет держать JSON-пакеты в разумных пределах.
- При скачивании сервер отдаёт файл потоком и выставляет корректные заголовки `Content-Type` и `Content-Disposition`.

Удаление задач и проектов автоматически удаляет связанные файлы и из базы, и с диска.
